use common::main;
use day23::{parse_input, RecursiveSolver, START};

main!();

fn solve(input: &str) -> usize {
    let map = parse_input(input);
    let solver = RecursiveSolver::new(map, false);
    solver.solve_recursive_smart(START, vec![])
}

#[cfg(test)]
mod tests {
    use crate::solve;

    #[test]
    fn it_works() {
        assert_eq!(
            94,
            solve(
                "#.#####################
                 #.......#########...###
                 #######.#########.#.###
                 ###.....#.>.>.###.#.###
                 ###v#####.#v#.###.#.###
                 ###.>...#.#.#.....#...#
                 ###v###.#.#.#########.#
                 ###...#.#.#.......#...#
                 #####.#.#.#######.#.###
                 #.....#.#.#.......#...#
                 #.#####.#.#.#########v#
                 #.#...#...#...###...>.#
                 #.#.#v#######v###.###v#
                 #...#.>.#...>.>.#.###.#
                 #####v#.#.###v#.#.###.#
                 #.....#...#...#.#.#...#
                 #.#########.###.#.#.###
                 #...###...#...#...#.###
                 ###.###.#.###v#####v###
                 #...#...#.#.>.>.#.>.###
                 #.###.###.#.###.#.#v###
                 #.....###...###...#...#
                 #####################.#"
            ),
        );
    }
}
